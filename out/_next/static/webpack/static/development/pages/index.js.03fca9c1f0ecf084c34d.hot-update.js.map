{"version":3,"file":"static/webpack/static/development/pages/index.js.03fca9c1f0ecf084c34d.hot-update.js","sources":["webpack:///./components/App.js","webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport NextHead from \"../layout/head\"\nimport styles from '../less/App.less';\nimport { Icon, Row, Col } from 'antd';\nimport Foot from './foot';\nimport Head from './head';\nimport Siderbar from './sidebar';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sidebar: true\n    }\n  }\n  handleClick = () => {\n    this.setState({\n      sidebar: !this.state.sidebar\n    });\n  }\n\n  render() {\n    const { articalsLength, visitorsMount,children } = this.props\n    let button = null;\n    if (this.state.sidebar) {\n      button = <Icon type=\"double-right\" className={styles.icon} style={{ color: \"#fff\" }} />;\n    } else {\n      button = <Icon type=\"double-left\" className={styles.icon} />;\n    }\n\n    return (\n      <>\n      <NextHead></NextHead>\n        <div className={styles.App} style={{ right: this.state.sidebar ? '160px' : '0px', width: '100%' }}>\n            <Head></Head>\n            <div className={styles.main}>\n              <Row type=\"flex\" justify=\"center\">\n              <Col md={14} sm={24} xs={24}>\n                {children}\n                </Col>\n              </Row>\n            </div>\n            <Foot></Foot>\n        </div>\n        <div className={styles.side} style={{ right: this.state.sidebar ? '0' : '-320px' }}>\n          <Siderbar articalsLength={articalsLength} visitorsMount={visitorsMount}></Siderbar>\n        </div>\n        <div className={styles.control} onClick={this.handleClick}>\n          {button}\n        </div>\n        </>\n    );\n  }\n}\n\nexport default App\n","import App from \"../components/App\"\nimport HomeView from \"../components/home\"\nimport { getArticals, getVisitorMount } from \"../service/api\"\n\nconst home = ({ articals, visitors, userAgent }) => {\n  return <>\n    <App articalsLength={articals.totalRows || 0} visitorsMount={visitors.count || 0} userAgent={userAgent}>\n      <HomeView articals={articals}></HomeView>\n    </App>\n  </>\n}\n\nhome.getInitialProps = async ({ req, query }) => {\n  const userAgent = req ? req.headers['user-agent'] : navigator.userAgent\n\n  const {\n    currentPage = 1, pageSize = 10,\n  } = query\n\n  const [articals, visitors] = await Promise.all([getArticals({\n    currentPage,\n    pageSize\n  }), getVisitorMount()])\n\n  return { articals, visitors, userAgent }\n}\n\nexport default home"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAOA;AACA;AADA;AAGA;AACA;AATA;AACA;AADA;AAFA;AAKA;AACA;;;AAMA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAKA;;;;AA5CA;AACA;AA8CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAQA;AACA;AAFA;AACA;AARA;AAAA;AAAA;AAOA;AAAA;AAPA;AAYA;AAAA;AAAA;AAAA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAcA;;;;A","sourceRoot":""}